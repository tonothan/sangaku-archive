(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{836:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Map_Map}}),t(9369),t(9429),t(3656);var r=t(7294);function extendContext(e,n){return Object.freeze({...e,...n})}let o=(0,r.createContext)(null),u=o.Provider;function useLeafletContext(){let e=(0,r.useContext)(o);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var l=t(5243),a=t.n(l);function _extends(){return(_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}let i=(0,r.forwardRef)(function({bounds:e,boundsOptions:n,center:t,children:o,className:a,id:i,placeholder:c,style:s,whenReady:f,zoom:p,...d},m){let[h]=(0,r.useState)({className:a,id:i,style:s}),[y,v]=(0,r.useState)(null);(0,r.useImperativeHandle)(m,()=>y?.map??null,[y]);let b=(0,r.useCallback)(r=>{if(null!==r&&null===y){let o=new l.Map(r,d);null!=t&&null!=p?o.setView(t,p):null!=e&&o.fitBounds(e,n),null!=f&&o.whenReady(f),v(Object.freeze({__version:1,map:o}))}},[]);(0,r.useEffect)(()=>()=>{y?.map.remove()},[y]);let x=y?r.createElement(u,{value:y},o):c??null;return r.createElement("div",_extends({},h,{ref:b}),x)});function element_createElementObject(e,n,t){return Object.freeze({instance:e,context:n,container:t})}function element_createElementHook(e,n){return null==n?function(n,t){let o=(0,r.useRef)();return o.current||(o.current=e(n,t)),o}:function(t,o){let u=(0,r.useRef)();u.current||(u.current=e(t,o));let l=(0,r.useRef)(t),{instance:a}=u.current;return(0,r.useEffect)(function(){l.current!==t&&(n(a,t,l.current),l.current=t)},[a,t,o]),u}}var c=t(3935);function createContainerComponent(e){return(0,r.forwardRef)(function(n,t){let{instance:o,context:l}=e(n).current;return(0,r.useImperativeHandle)(t,()=>o),null==n.children?null:r.createElement(u,{value:l},n.children)})}let s=element_createElementHook(function({children:e,...n},t){let r=new l.Control.Layers(void 0,void 0,n);return element_createElementObject(r,extendContext(t,{layersControl:r}))},function(e,n,t){n.collapsed!==t.collapsed&&(!0===n.collapsed?e.collapse():e.expand())}),f=createContainerComponent(function(e){let n=useLeafletContext(),t=s(e,n),{instance:o}=t.current,u=(0,r.useRef)(e.position),{position:l}=e;return(0,r.useEffect)(function(){return o.addTo(n.map),function(){o.remove()}},[n.map,o]),(0,r.useEffect)(function(){null!=l&&l!==u.current&&(o.setPosition(l),u.current=l)},[o,l]),t});function createControlledLayer(e){return function(n){let t=useLeafletContext(),o=(0,r.useRef)(n),[l,a]=(0,r.useState)(null),{layersControl:i,map:c}=t,s=(0,r.useCallback)(n=>{null!=i&&(o.current.checked&&c.addLayer(n),e(i,n,o.current.name),a(n))},[i,c]),f=(0,r.useCallback)(e=>{i?.removeLayer(e),a(null)},[i]),p=(0,r.useMemo)(()=>extendContext(t,{layerContainer:{addLayer:s,removeLayer:f}}),[t,s,f]);return(0,r.useEffect)(()=>{null!==l&&o.current!==n&&(!0===n.checked&&(null==o.current.checked||!1===o.current.checked)?c.addLayer(l):!0===o.current.checked&&(null==n.checked||!1===n.checked)&&c.removeLayer(l),o.current=n)}),n.children?r.createElement(u,{value:p},n.children):null}}function useAttribution(e,n){let t=(0,r.useRef)(n);(0,r.useEffect)(function(){n!==t.current&&null!=e.attributionControl&&(null!=t.current&&e.attributionControl.removeAttribution(t.current),null!=n&&e.attributionControl.addAttribution(n)),t.current=n},[e,n])}function useEventHandlers(e,n){let t=(0,r.useRef)();(0,r.useEffect)(function(){return null!=n&&e.instance.on(n),t.current=n,function(){null!=t.current&&e.instance.off(t.current),t.current=null}},[e,n])}function withPane(e,n){let t=e.pane??n.pane;return t?{...e,pane:t}:e}function useLayerLifecycle(e,n){(0,r.useEffect)(function(){let t=n.layerContainer??n.map;return t.addLayer(e.instance),function(){n.layerContainer?.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function createLayerHook(e){return function(n){let t=useLeafletContext(),r=e(withPane(n,t),t);return useAttribution(t.map,n.attribution),useEventHandlers(r.current,n.eventHandlers),useLayerLifecycle(r.current,t),r}}f.BaseLayer=createControlledLayer(function(e,n,t){e.addBaseLayer(n,t)}),f.Overlay=createControlledLayer(function(e,n,t){e.addOverlay(n,t)});let p=function(e,n){let t=element_createElementHook(e,n),o=createLayerHook(t);return(0,r.forwardRef)(function(e,n){let{instance:t}=o(e).current;return(0,r.useImperativeHandle)(n,()=>t),null})}(function({url:e,...n},t){let r=new l.TileLayer(e,withPane(n,t));return element_createElementObject(r,t)},function(e,n,t){!function(e,n,t){let{opacity:r,zIndex:o}=n;null!=r&&r!==t.opacity&&e.setOpacity(r),null!=o&&o!==t.zIndex&&e.setZIndex(o)}(e,n,t);let{url:r}=n;null!=r&&r!==t.url&&e.setUrl(r)}),d=function(e,n){let t=element_createElementHook(e,void 0);return createContainerComponent(function(e){let n=useLeafletContext(),o=t(withPane(e,n),n);return useEventHandlers(o.current,e.eventHandlers),useLayerLifecycle(o.current,n),function(e,n){let t=(0,r.useRef)();(0,r.useEffect)(function(){if(n.pathOptions!==t.current){let r=n.pathOptions??{};e.instance.setStyle(r),t.current=r}},[e,n])}(o.current,e),o})}(function({children:e,...n},t){let r=new l.FeatureGroup([],n);return element_createElementObject(r,extendContext(t,{layerContainer:r,overlayContainer:r}))}),m=function(e,n){let t=element_createElementHook(e,n),r=createLayerHook(t);return createContainerComponent(r)}(function({position:e,...n},t){let r=new l.Marker(e,n);return element_createElementObject(r,extendContext(t,{overlayContainer:r}))},function(e,n,t){n.position!==t.position&&e.setLatLng(n.position),null!=n.icon&&n.icon!==t.icon&&e.setIcon(n.icon),null!=n.zIndexOffset&&n.zIndexOffset!==t.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),null!=n.opacity&&n.opacity!==t.opacity&&e.setOpacity(n.opacity),null!=e.dragging&&n.draggable!==t.draggable&&(!0===n.draggable?e.dragging.enable():e.dragging.disable())}),h=function(e,n){var t;let o=element_createElementHook(e);return t=function(e,t){let r=useLeafletContext(),u=o(withPane(e,r),r);return useAttribution(r.map,e.attribution),useEventHandlers(u.current,e.eventHandlers),n(u.current,r,e,t),u},(0,r.forwardRef)(function(e,n){let[o,u]=(0,r.useState)(!1),{instance:l}=t(e,u).current;(0,r.useImperativeHandle)(n,()=>l),(0,r.useEffect)(function(){o&&l.update()},[l,o,e.children]);let a=l._contentNode;return a?(0,c.createPortal)(e.children,a):null})}(function(e,n){let t=new l.Popup(e,n.overlayContainer);return element_createElementObject(t,n)},function(e,n,{position:t},o){(0,r.useEffect)(function(){let{instance:r}=e;function onPopupOpen(e){e.popup===r&&(r.update(),o(!0))}function onPopupClose(e){e.popup===r&&o(!1)}return n.map.on({popupopen:onPopupOpen,popupclose:onPopupClose}),null==n.overlayContainer?(null!=t&&r.setLatLng(t),r.openOn(n.map)):n.overlayContainer.bindPopup(r),function(){n.map.off({popupopen:onPopupOpen,popupclose:onPopupClose}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(r)}},[e,n,o,t])});var y=t(1830),v=t(6873),b=t(9342),x=(0,t(2854).zo)("div",{height:"100vh",position:"relative",zIndex:"0",".map-container":{height:"100%",width:"100%",figure:{width:"100%",margin:"0",padding:"0"}},figure:{img:{width:"100%",maxHeight:"200px"},video:{display:"none"}}}),g=t(7459),getLabel=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";if(!e)return["Untitled"];if("string"==typeof e)return[e];if(!e[n]){var t=Object.getOwnPropertyNames(e);if(t.length>0)return e[t[0]]}return e[n]},C=t(5893),Map_Map=function(e){var n=e.manifests,t={defaultBounds:[[51.505,-.09]],icon:{iconUrl:"images/marker-icon.png",iconSize:[24,36],iconAnchor:[12,36]},tileLayers:[{name:"OpenStreetMap",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{name:"OpenTopoMap",url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}]},o=t.tileLayers,u=t.defaultBounds,l=(0,r.useRef)(null),c=a().icon(t.icon),s=(0,r.useState)(u),L=s[0],E=s[1];return(0,r.useEffect)(function(){var e=(0,g.z)(n);e.length>0&&E(e)},[n]),(0,r.useEffect)(function(){l.current&&L&&l.current.fitBounds(L)},[l,L]),(0,C.jsx)(x,{children:(0,C.jsxs)(i,{className:"map-container",bounds:L,scrollWheelZoom:!0,ref:l,children:[(0,C.jsx)(f,{position:"topright",children:o.map(function(e,n){return 0===n?(0,C.jsx)(f.BaseLayer,{name:e.name,checked:!0,children:(0,C.jsx)(p,{url:e.url,attribution:e.attribution})},n):(0,C.jsx)(f.BaseLayer,{name:e.name,children:(0,C.jsx)(p,{url:e.url,attribution:e.attribution})},n)})}),(0,C.jsx)(d,{children:n.map(function(e){return e.features.map(function(n,t){return(0,C.jsx)(m,{position:[n.geometry.coordinates[1],n.geometry.coordinates[0]],icon:c,children:(0,C.jsx)(h,{children:(0,C.jsx)("figure",{children:(0,C.jsxs)(b.Z,{href:e.slug,children:[(0,C.jsx)(y.Thumbnail,{thumbnail:e.thumbnail})," ",(0,C.jsx)("figcaption",{children:(0,C.jsx)(v.Z,{className:"slide-inner",isFlex:!0,children:(0,C.jsx)(y.Label,{label:getLabel(n.properties.label),as:"span",className:"slide-label"})})})]})})})},t)})})})]})})}},3656:function(){},9429:function(){},2868:function(){},4777:function(){},9830:function(){},209:function(){}}]);