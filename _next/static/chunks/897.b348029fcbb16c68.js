(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{836:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Map_Map}}),t(9369),t(9429),t(3656);var r=t(7294);function extendContext(e,n){return Object.freeze({...e,...n})}let u=(0,r.createContext)(null),o=u.Provider;function useLeafletContext(){let e=(0,r.useContext)(u);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var l=t(5243),a=t.n(l);function _extends(){return(_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}let c=(0,r.forwardRef)(function({bounds:e,boundsOptions:n,center:t,children:u,className:a,id:c,placeholder:i,style:s,whenReady:f,zoom:p,...d},m){let[h]=(0,r.useState)({className:a,id:c,style:s}),[y,v]=(0,r.useState)(null);(0,r.useImperativeHandle)(m,()=>y?.map??null,[y]);let x=(0,r.useCallback)(r=>{if(null!==r&&null===y){let u=new l.Map(r,d);null!=t&&null!=p?u.setView(t,p):null!=e&&u.fitBounds(e,n),null!=f&&u.whenReady(f),v(Object.freeze({__version:1,map:u}))}},[]);(0,r.useEffect)(()=>()=>{y?.map.remove()},[y]);let b=y?r.createElement(o,{value:y},u):i??null;return r.createElement("div",_extends({},h,{ref:x}),b)});function element_createElementObject(e,n,t){return Object.freeze({instance:e,context:n,container:t})}function element_createElementHook(e,n){return null==n?function(n,t){let u=(0,r.useRef)();return u.current||(u.current=e(n,t)),u}:function(t,u){let o=(0,r.useRef)();o.current||(o.current=e(t,u));let l=(0,r.useRef)(t),{instance:a}=o.current;return(0,r.useEffect)(function(){l.current!==t&&(n(a,t,l.current),l.current=t)},[a,t,u]),o}}var i=t(3935);function createContainerComponent(e){return(0,r.forwardRef)(function(n,t){let{instance:u,context:l}=e(n).current;return(0,r.useImperativeHandle)(t,()=>u),null==n.children?null:r.createElement(o,{value:l},n.children)})}let s=element_createElementHook(function({children:e,...n},t){let r=new l.Control.Layers(void 0,void 0,n);return element_createElementObject(r,extendContext(t,{layersControl:r}))},function(e,n,t){n.collapsed!==t.collapsed&&(!0===n.collapsed?e.collapse():e.expand())}),f=createContainerComponent(function(e){let n=useLeafletContext(),t=s(e,n),{instance:u}=t.current,o=(0,r.useRef)(e.position),{position:l}=e;return(0,r.useEffect)(function(){return u.addTo(n.map),function(){u.remove()}},[n.map,u]),(0,r.useEffect)(function(){null!=l&&l!==o.current&&(u.setPosition(l),o.current=l)},[u,l]),t});function createControlledLayer(e){return function(n){let t=useLeafletContext(),u=(0,r.useRef)(n),[l,a]=(0,r.useState)(null),{layersControl:c,map:i}=t,s=(0,r.useCallback)(n=>{null!=c&&(u.current.checked&&i.addLayer(n),e(c,n,u.current.name),a(n))},[c,i]),f=(0,r.useCallback)(e=>{c?.removeLayer(e),a(null)},[c]),p=(0,r.useMemo)(()=>extendContext(t,{layerContainer:{addLayer:s,removeLayer:f}}),[t,s,f]);return(0,r.useEffect)(()=>{null!==l&&u.current!==n&&(!0===n.checked&&(null==u.current.checked||!1===u.current.checked)?i.addLayer(l):!0===u.current.checked&&(null==n.checked||!1===n.checked)&&i.removeLayer(l),u.current=n)}),n.children?r.createElement(o,{value:p},n.children):null}}function useAttribution(e,n){let t=(0,r.useRef)(n);(0,r.useEffect)(function(){n!==t.current&&null!=e.attributionControl&&(null!=t.current&&e.attributionControl.removeAttribution(t.current),null!=n&&e.attributionControl.addAttribution(n)),t.current=n},[e,n])}function useEventHandlers(e,n){let t=(0,r.useRef)();(0,r.useEffect)(function(){return null!=n&&e.instance.on(n),t.current=n,function(){null!=t.current&&e.instance.off(t.current),t.current=null}},[e,n])}function withPane(e,n){let t=e.pane??n.pane;return t?{...e,pane:t}:e}function useLayerLifecycle(e,n){(0,r.useEffect)(function(){let t=n.layerContainer??n.map;return t.addLayer(e.instance),function(){n.layerContainer?.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function createLayerHook(e){return function(n){let t=useLeafletContext(),r=e(withPane(n,t),t);return useAttribution(t.map,n.attribution),useEventHandlers(r.current,n.eventHandlers),useLayerLifecycle(r.current,t),r}}f.BaseLayer=createControlledLayer(function(e,n,t){e.addBaseLayer(n,t)}),f.Overlay=createControlledLayer(function(e,n,t){e.addOverlay(n,t)});let p=function(e,n){let t=element_createElementHook(e,n),u=createLayerHook(t);return(0,r.forwardRef)(function(e,n){let{instance:t}=u(e).current;return(0,r.useImperativeHandle)(n,()=>t),null})}(function({url:e,...n},t){let r=new l.TileLayer(e,withPane(n,t));return element_createElementObject(r,t)},function(e,n,t){!function(e,n,t){let{opacity:r,zIndex:u}=n;null!=r&&r!==t.opacity&&e.setOpacity(r),null!=u&&u!==t.zIndex&&e.setZIndex(u)}(e,n,t);let{url:r}=n;null!=r&&r!==t.url&&e.setUrl(r)}),d=function(e,n){let t=element_createElementHook(e,void 0);return createContainerComponent(function(e){let n=useLeafletContext(),u=t(withPane(e,n),n);return useEventHandlers(u.current,e.eventHandlers),useLayerLifecycle(u.current,n),function(e,n){let t=(0,r.useRef)();(0,r.useEffect)(function(){if(n.pathOptions!==t.current){let r=n.pathOptions??{};e.instance.setStyle(r),t.current=r}},[e,n])}(u.current,e),u})}(function({children:e,...n},t){let r=new l.FeatureGroup([],n);return element_createElementObject(r,extendContext(t,{layerContainer:r,overlayContainer:r}))}),m=function(e,n){let t=element_createElementHook(e,n),r=createLayerHook(t);return createContainerComponent(r)}(function({position:e,...n},t){let r=new l.Marker(e,n);return element_createElementObject(r,extendContext(t,{overlayContainer:r}))},function(e,n,t){n.position!==t.position&&e.setLatLng(n.position),null!=n.icon&&n.icon!==t.icon&&e.setIcon(n.icon),null!=n.zIndexOffset&&n.zIndexOffset!==t.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),null!=n.opacity&&n.opacity!==t.opacity&&e.setOpacity(n.opacity),null!=e.dragging&&n.draggable!==t.draggable&&(!0===n.draggable?e.dragging.enable():e.dragging.disable())}),h=function(e,n){var t;let u=element_createElementHook(e);return t=function(e,t){let r=useLeafletContext(),o=u(withPane(e,r),r);return useAttribution(r.map,e.attribution),useEventHandlers(o.current,e.eventHandlers),n(o.current,r,e,t),o},(0,r.forwardRef)(function(e,n){let[u,o]=(0,r.useState)(!1),{instance:l}=t(e,o).current;(0,r.useImperativeHandle)(n,()=>l),(0,r.useEffect)(function(){u&&l.update()},[l,u,e.children]);let a=l._contentNode;return a?(0,i.createPortal)(e.children,a):null})}(function(e,n){let t=new l.Popup(e,n.overlayContainer);return element_createElementObject(t,n)},function(e,n,{position:t},u){(0,r.useEffect)(function(){let{instance:r}=e;function onPopupOpen(e){e.popup===r&&(r.update(),u(!0))}function onPopupClose(e){e.popup===r&&u(!1)}return n.map.on({popupopen:onPopupOpen,popupclose:onPopupClose}),null==n.overlayContainer?(null!=t&&r.setLatLng(t),r.openOn(n.map)):n.overlayContainer.bindPopup(r),function(){n.map.off({popupopen:onPopupOpen,popupclose:onPopupClose}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(r)}},[e,n,u,t])});var y=t(1830),v=t(6873),x=t(9342),b=(0,t(2854).zo)("div",{height:"100vh",position:"relative",zIndex:"0",".map-container":{height:"100%",width:"100%",figure:{width:"100%",margin:"0",padding:"0"}},figure:{img:{width:"100%",maxHeight:"200px"},video:{display:"none"}}}),C=t(7459),getLabel=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";if(!e)return["Untitled"];if("string"==typeof e)return[e];if(!e[n]){var t=Object.getOwnPropertyNames(e);if(t.length>0)return e[t[0]]}return e[n]},g=t(5893),Map_Map=function(e){var n=e.manifests,t={defaultBounds:[[51.505,-.09]],icon:{iconUrl:"images/marker-icon.png",iconSize:[24,36],iconAnchor:[12,36]},tileLayers:[{name:"OpenStreetMap",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}]},u=t.tileLayers,o=t.defaultBounds,l=(0,r.useRef)(null),i=a().icon(t.icon),s=(0,r.useState)(o),L=s[0],E=s[1];return(0,r.useEffect)(function(){var e=(0,C.z)(n);e.length>0&&E(e)},[n]),(0,r.useEffect)(function(){l.current&&L&&l.current.fitBounds(L)},[l,L]),(0,g.jsx)(b,{children:(0,g.jsxs)(c,{className:"map-container",bounds:L,scrollWheelZoom:!0,ref:l,children:[(0,g.jsx)(f,{position:"topright",children:u.map(function(e,n){return 0===n?(0,g.jsx)(f.BaseLayer,{name:e.name,checked:!0,children:(0,g.jsx)(p,{url:e.url,attribution:e.attribution})},n):(0,g.jsx)(f.BaseLayer,{name:e.name,children:(0,g.jsx)(p,{url:e.url,attribution:e.attribution})},n)})}),(0,g.jsx)(d,{children:n.map(function(e){return e.features.map(function(n,t){return(0,g.jsx)(m,{position:[n.geometry.coordinates[1],n.geometry.coordinates[0]],icon:i,children:(0,g.jsx)(h,{children:(0,g.jsx)("figure",{children:(0,g.jsxs)(x.Z,{href:e.slug,children:[(0,g.jsx)(y.Thumbnail,{thumbnail:e.thumbnail})," ",(0,g.jsx)("figcaption",{children:(0,g.jsx)(v.Z,{className:"slide-inner",isFlex:!0,children:(0,g.jsx)(y.Label,{label:getLabel(n.properties.label),as:"span",className:"slide-label"})})})]})})})},t)})})})]})})}},3656:function(){},9429:function(){},2868:function(){},4777:function(){},9830:function(){},209:function(){}}]);